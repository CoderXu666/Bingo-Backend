### 目录结构

- /opt
    - /bingo-file
        - /docker
            - Dockerfile-user
            - Dockerfile-community
            - Dockerfile-im
            - Dockerfile-party
            - Dockerfile-recharge
        - /jar
            - bingo-user.jar
            - bingo-community.jar
            - bingo-im.jar
            - bingo-party.jar
            - bingo-recharge.jar
        - /shell
            - deploy.sh

### Dockerfile

- 这些Dockerfile用于构建微服务Docker镜像，然后放到目标公网Server进行Docker容器启动运行
- 不要在本地环境执行这些Dockerfile文件，Dockerfile中的命令是根据生产环境目录进行编写的
- 命令：
    - 构建jar包：mvn clean package -Dmaven.test.skip=true
    - 构建镜像：docker build -t 镜像名 -f 文件名 .
    - 例如：docker build -t bingo-user-image -f Dockerfile-user .

### DockerCompose

- DockerCompose批量操作Docker镜像、容器，我的想法是通过docker-compose.yml将5个微服务jar一起启动。
- 命令：
    - 启动：docker-compose up -d
    - 重启：docker-compose restart

### 以后考虑DevOps？

目前想法是做个简单的
目前有想法，不过服务器资源有点紧张，待定..... 先通过该方式部署

### 整体部署流程

**简略版：**
1. 将Dockerfile和Jar文件上传到目标部署Server上对应目录中
2. 执行Shell脚本启动Bingo微服务jar项目

**CICD阉割版（无k8s）：**
1. 通过jenkins配置Pipeline流水线，自动化脚本
2. 从github上拉取代码存入到云服务器，然后maven自动打包jar
3. 执行Shell脚本启动